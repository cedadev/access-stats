{% extends "fwtheme_django/layout.html" %}
{% load staticfiles %}
{% block stylesheets_extra %}
<link rel="shortcut icon" href="{% static 'favicon.ico' %}">
{{form.media.css}}
{% endblock %}

{% block head_title %}
Downloads
{% endblock %}
{% block page_title %}
<h1>Downloads</h1>
{% endblock %}

{% block content %}
<form action="{% url 'index' %}" method="get">
    <div class="form-row">
        <div class="col">
            {{ form.start.label_tag }}
            {{ form.start }}
        </div>
        <div class="col">
            {{ form.end.label_tag }}
            {{ form.end }}
        </div>
        <div class="col">
            {{ form.user.label_tag }}
            {{ form.user }}
        </div>
    </div>
    <div class="form-row mb-2">
        <div class="col">
            {{ form.dataset.label_tag }}
            {{ form.dataset }}
        </div>
        <div class="col">
            {{ form.method.label_tag }}
            {{ form.method }}
        </div>
        <div class="col">
            {{ form.anon.label_tag }}
            {{ form.anon }}
        </div>
    </div>
    <div class="input-group">
        <button type="submit" class="btn btn-primary mb-2 mr-2">Filter</button>
    </div>
</form>


<nav>
    <div class="nav nav-fill nav-tabs" id="nav-tab" role="tablist">
        <a class="nav-item nav-link active" data-toggle="tab" href="#methods">Methods</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#timeline">Timeline</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#dataset">Dataset Breakdown</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#user">User Breakdown</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#users">Users</a>
        <a class="nav-item nav-link" data-toggle="tab" href="#trace">Trace</a>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="methods" role="tabpanel" aria-labelledby="methods-tab">
        <div class="dropdown mb-2">
            <button class="btn btn-primary dropdown-toggle" type="button" id="methodsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="methodsDropdown">
                <a class="dropdown-item" href="{% url 'json' 'methods' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>
        <table class="table" id="methodsTable">
            <thead>
                <tr>
                    <th scope="col">Method</th>
                    <th scope="col">Users</th>
                    <th scope="col">Datasets</th>
                    <th scope="col">Number of accesses</th>
                    <th scope="col">Size</th>
                    <th scope="col">Activity days</th>
                </tr>
            </thead>
            <tbody id="methodsTableBody">
            </tbody>
            <tfoot id="methodsTableFooter">
            </tfoot>
        </table>
    </div>
    
    
    <div class="tab-pane fade" id="timeline" role="tabpanel" aria-labelledby="timeline-tab">
        <div class="dropdown mb-2" >
            <button class="btn btn-primary dropdown-toggle" type="button" id="timelineDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="timelineDropdown">
                <a class="dropdown-item" href="{% url 'json' 'timeline' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>

        <table class="table" id="timelineTable">
            <thead>
                <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Users</th>
                    <th scope="col">Methods</th>
                    <th scope="col">Datasets</th>
                    <th scope="col">Number of accesses</th>
                    <th scope="col">Size</th>
                    <th scope="col">Activity days</th>
                </tr>
            </thead>
            <tbody id="timelineTableBody">
            </tbody>
            <tfoot id="timelineTableFooter">
            </tfoot>
        </table>
    </div>

    <div class="tab-pane fade" id="dataset" role="tabpanel" aria-labelledby="dataset-tab">
        <div class="dropdown mb-2" >
            <button class="btn btn-primary dropdown-toggle" type="button" id="datasetDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="datasetDropdown">
                <a class="dropdown-item" href="{% url 'json' 'dataset' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="user" role="tabpanel" aria-labelledby="user-tab">
        <div class="dropdown mb-2" >
            <button class="btn btn-primary dropdown-toggle" type="button" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="{% url 'json' 'user' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab">
        <div class="dropdown mb-2" >
            <button class="btn btn-primary dropdown-toggle" type="button" id="usersDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="usersDropdown">
                <a class="dropdown-item" href="{% url 'json' 'users' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="trace" role="tabpanel" aria-labelledby="trace-tab">
        <div class="dropdown mb-2" >
            <button class="btn btn-primary dropdown-toggle" type="button" id="traceDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Convert to
            </button>
            <div class="dropdown-menu" aria-labelledby="traceDropdown">
                <a class="dropdown-item" href="{% url 'json' 'trace' %}?{{request.GET.urlencode}}">json</a>
                <a class="dropdown-item" href="#">csv</a>
                <a class="dropdown-item" href="#">excel</a>
            </div>
        </div>
    </div>

</div>


{% endblock %}

{% block tail_js_extra %}
<script type="text/javascript" src="{% static 'downloads/js/mustache.min.js'%}"></script>
<script type="text/javascript" src="{% static 'downloads/js/templates.js'%}"></script>
<script type="text/javascript" src="{% static 'downloads/js/downloads.js'%}"></script>
{{form.media.js}}
{% endblock %}